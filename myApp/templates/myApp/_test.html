{% load static %}

<script type="text/javascript" src="{% static 'js/jquery-3.4.1.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" type="text/css">

<div class="row justify-content-center">
  <div class="col-6">
    <nav class="nav nav-pills" role="tablist" id="myTabs">
      <a class="flex-sm-fill text-sm-center nav-link active" href="#individual" role="tab">individual</a>
      <a class="flex-sm-fill text-sm-center nav-link" href="#family" role="tab">family</a>
      <a class="flex-sm-fill text-sm-center nav-link" href="#community" role="tab">community</a>
    </nav>
    <div class="tab-content mt-2" id="tabContent">
      <div class="tab-pane active" id="individual" role="tabpanel">

        <a class="btn btn-warning mt-2 my-0 py-0 btn-sm" id="btn_save_crop" href='#'>rotate</a>
        <div id="carouselExampleControls" class="carousel slide" data-interval="false" data-ride="carousel">
          <div class="carousel-inner">
            {% for i in i|rjust:4 %}
              <div class="carousel-item {% if forloop.first %}active{% endif %}">
                first item
                aaa bbb ccc
                {{ forloop.counter|add:100 }}

                <div class="card border-success border-5 rounded col-12 mt-2 py-2"
                     style="max-width: 540px; color:#24535F ;background-color:#D9ECDC;">
                  <div class="row">
                    <div class="col-12">
                      <div class="card-body py-0 px-0">
                        <div class="card border-success rounded col-12 px-1 py-1 my-1" style="color:#24535F ;background-color:#D9ECDC;
               border-width: 2px;
          ">
                          <div class="card-header bg-info text-white p-1">
                            Diet plan for target beneficiaries in
                            <select class="lst_month" style="border: 1px #386B46;
                      background-color:#D2DFD2;" myNum={{ forloop.counter|add:100 }}>
                              <option value="jan">Jan</option>
                              <option value="feb">Feb</option>
                              <option value="mar">Mar</option>
                              <option value="apr">Apr</option>
                              <option value="may">May</option>
                              <option value="jun">Jun</option>
                              <option value="jul">Jul</option>
                              <option value="aug">Aug</option>
                              <option value="sep">Sep</option>
                              <option value="oct">Oct</option>
                              <option value="nov">Nov</option>
                              <option value="dec">Dec</option>
                            </select>
                            <span class="fb fb-help" data-toggle="tooltip"
                                  title="select month for diet planning"></span>
                          </div>

                          <p class="card-title text-dark my-1 pl-1">
                            <span style="color:red">■</span>: less than 50%,
                            <span style="color:orange">■</span>: 50-100%,
                            <span style="color:green">■</span>: over 100%
                          </p>

                          <table border="1" class="table table-striped selected_crops_tbl"
                                 myNum={{ forloop.counter|add:100 }}>
                            <tr>
                              <th>
                                name:
                                <span class="fb fb-help" data-toggle="tooltip"
                                      title="click each row to set food consumption recommend"></span>
                              </th>
                              <th>En</th>
                              <th>Pr</th>
                              <th>Va</th>
                              <th>Fe</th>
                              <th>Wt</th>
                              <th class="tableItem_hide">id</th>
                              <th class="tableItem_hide">food_item_id</th>
                              <th class="tableItem_hide">portion_size</th>
                              <th class="tableItem_hide">count_prod</th>
                              <th class="tableItem_hide">count_buy</th>
                              <th class="tableItem_hide">En0</th>
                              <th class="tableItem_hide">Pr0</th>
                              <th class="tableItem_hide">Va0</th>
                              <th class="tableItem_hide">Fe0</th>
                            </tr>
                            <tr>
                              <td>total</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <th class="tableItem_hide"></th>
                              <th class="tableItem_hide"></th>
                              <th class="tableItem_hide"></th>
                              <th class="tableItem_hide"></th>
                              <th class="tableItem_hide"></th>
                              <th class="tableItem_hide"></th>
                              <th class="tableItem_hide"></th>
                              <th class="tableItem_hide"></th>
                              <th class="tableItem_hide"></th>
                            </tr>
                          </table>
                          <div class="btn_add_crop btn btn-block btn-secondary text-dark mt-0 my-0 py-0 btn-sm"
                               style="background-color:#ADC757;" myNum={{ forloop.counter|add:100 }}>add food item
                            <span class="fb fb-help" data-toggle="tooltip"
                                  title="you can add/edit food item for selected month here"></span>
                          </div>
                        </div>

                        <!-- ここから 栄養バランスの評価 ----------------------------->

                        <div class="card rounded border-success col-12 px-1 py-1 mt-3" style="color:#24535F ;background-color:#D9ECDC;
               border-width: 2px;
          ">
                          <div class="card-header bg-info text-white p-1 mb-2">
                            nutrient balance
                            <span class="fb fb-help" data-toggle="tooltip"
                                  title="nutrient balance of selected diet combination"></span>
                          </div>

                          <div class="form-row no-gutters my-0 py-0" style="height:30px;">
                            <div class="col-3">
                              <label class="text-dark" for="rating_en">Energy</label>
                            </div>
                            <div class="col-2">
                              <div class="text-dark lbl_target_en" myNum={{ forloop.counter|add:100 }}></div>
                            </div>
                            <div class="col-7">
                              <select class="rating_DRI rating_en" myNum={{ forloop.counter|add:100 }}>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                              </select>
                            </div>
                          </div>

                          <div class="form-row no-gutters my-0 py-0" style="height:30px;">
                            <div class="col-3">
                              <label class="text-dark" for="rating_pr">Protein</label>
                            </div>
                            <div class="col-2">
                              <div class="text-dark lbl_target_pr" myNum={{ forloop.counter|add:100 }}></div>
                            </div>
                            <div class="col-7">
                              <select class="rating_DRI rating_pr" myNum={{ forloop.counter|add:100 }}>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                              </select>
                            </div>
                          </div>

                          <div class="form-row no-gutters my-0" style="height:30px;">
                            <div class="col-3">
                              <label class="text-dark" for="rating_va">VitA</label>
                            </div>
                            <div class="col-2">
                              <div class="text-dark lbl_target_va" myNum={{ forloop.counter|add:100 }}></div>
                            </div>
                            <div class="col-7">
                              <select class="rating_DRI rating_va" myNum={{ forloop.counter|add:100 }}>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                              </select>
                            </div>
                          </div>

                          <div class="form-row no-gutters my-0" style="height:30px;">
                            <div class="col-3">
                              <label class="text-dark " for="rating_fe">Iron</label>
                            </div>
                            <div class="col-2">
                              <div class="text-dark lbl_target_fe" myNum={{ forloop.counter|add:100 }}></div>
                            </div>
                            <div class="col-7">
                              <select class="rating_DRI rating_fe" myNum={{ forloop.counter|add:100 }}>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                              </select>
                            </div>
                          </div>

                          <div class="row no-gutters my-0 py-0" style="height:30px;">
                            <div class="col-3 text-dark">Target group</div>
                            <div class="col-5 text-dark">{{ nutrient_target }}</div>
                          </div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            {% endfor %}
          </div>
        </div>

      </div>
      <div class="tab-pane" id="family" role="tabpanel">
        <table class="table table-sm">
          <tbody>
          <tr>
            <td colspan="2" class="table-info text-center"><strong>Construction</strong></td>
          </tr>
          <tr>
            <td class="d-inline-block col-4">Body type</td>
            <td class="d-inline-block col-8">Solid, Single cut</td>
          </tr>
          <tr>
            <td class="d-inline-block col-4">Neck joint</td>
            <td class="d-inline-block col-8">Sent-in</td>
          </tr>
          <tr>
            <td class="d-inline-block col-4">Scale</td>
            <td class="d-inline-block col-8">24.75"</td>
          </tr>
          <tr>
            <td colspan="2" class="table-info text-center"><strong>Woods</strong></td>
          </tr>
          <tr>
            <td class="d-inline-block col-4">Body</td>
            <td class="d-inline-block col-8">Mahogany, Maple top</td>
          </tr>
          <tr>
            <td class="d-inline-block col-4">Neck</td>
            <td class="d-inline-block col-8">Mahogany</td>
          </tr>
          <tr>
            <td class="d-inline-block col-4">Fretboard</td>
            <td class="d-inline-block col-8">Ebony</td>
          </tr>
          <tr>
            <td colspan="2" class="table-info text-center"><strong>Hardware</strong></td>
          </tr>
          <tr>
            <td class="d-inline-block col-4">Bridge</td>
            <td class="d-inline-block col-8">Tune-o-matic</td>
          </tr>
          <tr>
            <td class="d-inline-block col-4">Pickup(s)</td>
            <td class="d-inline-block col-8">A Burstbucker 3 humbucker at the bridge, P-90H at the neck, and a
              piezoelectric built into the bridge.
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  jQuery(document).ready(function () {

    let activeTab = $('#myTabs a').filter('.active');

    $('#myTabs a').click(function (e) {
      e.preventDefault();

      activeTab.removeClass('active');
      $(activeTab.attr('href')).removeClass('active');

      activeTab = $(this);

      activeTab.addClass("active");
      $(activeTab.attr('href')).addClass('active');
    });

    $('#btn_save_crop').click(function () {
      $('#carouselExampleControls').carousel('next')
    });

  });
</script>
