{% extends 'myApp/base.html' %}
{% load static %}

{% block content %}
<script type="text/javascript" src="{% static 'DataTables/js/jquery.dataTables.min.js' %}"></script>
<script type="text/javascript" src="{% static 'DataTables/js/dataTables.select.min.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'DataTables/css/jquery.dataTables.min.css' %}" media="screen">
<link rel="stylesheet" type="text/css" href="{% static 'DataTables/css/select.dataTables.min.css' %}" media="screen">


<script>
// URLパラメータの取得
getHTML_name = function() {
    return window.location.href.split('/')[4]+'/'+window.location.href.split('/')[5];
}

$(document).ready(function() {
  var table = $('#example').DataTable( {
    "ajax": "{% static 'DataTables/data/FCT.txt' %}",
    "columns": [
        { "data": "Food_name" },
        { "data": "Protein" },
        { "data": "VITA_RAE" },
        { "data": "FE" },
    ]
  } );

    $('#example tbody').on( 'click', 'tr', function () {
        $(this).toggleClass('selected');
    } );

    $('#button2').click( function () {
      table.rows().every( function ( rowIdx, tableLoop, rowLoop ) {
        var data = this.data();
        if (data.FCT_id == '1003') {
          this.select();
        }
          // ... do something with data(), or this.node(), etc
      } );
    } );


    $('#button').click( function () {
        var s = "";
        var n = "";
        table.rows('.selected').every( function ( rowIdx, tableLoop, rowLoop ) {
            var data = this.data();
            s += data.Food_name + "\n";
            n += "-" + data.FCT_id;

            // ... do something with data(), or this.node(), etc
        } );
        n = n.substring(1);
        window.confirm(s);
        window.confirm(n);

    } );
} );
</script>


<button type="button" id="button" >select count</button>
<button type="button" id="button2" >select count</button>
<table id="example" class="display compact" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>Name</th>
            <th>Pr</th>
            <th>VA</th>
            <th>Fe</th>
        </tr>
    </thead>

    <tfoot>
        <tr>
          <th>Name</th>
          <th>Pr</th>
          <th>VA</th>
          <th>Fe</th>
        </tr>
    </tfoot>
</table>
{% endblock %}
